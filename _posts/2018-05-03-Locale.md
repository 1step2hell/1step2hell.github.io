---
layout: post
title:  Locale
date:   2018-05-03 11:00:00 +0800
categories: Linux
tags: locale
published: false
---

* content
{:toc}

# Locale
[Locale](http://wiki.ubuntu.org.cn/Locale) 是软件在运行时的语言环境, 它包括语言(Language), 地域 (Territory) 和字符集(Codeset)。一个locale的书写格式为: [语言[_地域][.字符集] [@修正值]。  
在ubuntu系统中直接使用`locale`命令可以得到如下类似的结果：
```
LANG=en_US.UTF-8
LANGUAGE=en_US:en
LC_CTYPE="en_US.UTF-8"
LC_NUMERIC=zh_CN.UTF-8
LC_TIME=zh_CN.UTF-8
LC_COLLATE="en_US.UTF-8"
LC_MONETARY=zh_CN.UTF-8
LC_MESSAGES="en_US.UTF-8"
LC_PAPER=zh_CN.UTF-8
LC_NAME=zh_CN.UTF-8
LC_ADDRESS=zh_CN.UTF-8
LC_TELEPHONE=zh_CN.UTF-8
LC_MEASUREMENT=zh_CN.UTF-8
LC_IDENTIFICATION=zh_CN.UTF-8
LC_ALL=
```

使用`which locale`可以看到`locale`命令调用的是`/usr/bin/locale`，而显示的具体设置则在`/etc/default/locale`配置文件里：
```
#  File generated by update-locale
LANG="en_US.UTF-8"
LANGUAGE="en_US:en"
LC_NUMERIC="zh_CN.UTF-8"
LC_TIME="zh_CN.UTF-8"
LC_MONETARY="zh_CN.UTF-8"
LC_PAPER="zh_CN.UTF-8"
LC_IDENTIFICATION="zh_CN.UTF-8"
LC_NAME="zh_CN.UTF-8"
LC_ADDRESS="zh_CN.UTF-8"
LC_TELEPHONE="zh_CN.UTF-8"
LC_MEASUREMENT="zh_CN.UTF-8"
```
需要注意的是，这个默认的locale配置是可以被类似`/etc/profile` `/etc/bash.bahsrc` `~/.profile` `~/.bash_profile` `.bashrc`这样的文件给覆盖的（按文件优先级）。  

locale配置一般分为12类：
* LC_CTYPE 语言符号及其分类
* LC_NUMERIC 数字
* LC_COLLATE 比较和排序习惯
* LC_TIME 时间显示格式
* LC_MONETARY 货币单位
* LC_MESSAGES 信息主要是提示信息,错误信息, 状态信息, 标题, 标签, 按钮和菜单等
* LC_NAME 姓名书写方式
* LC_ADDRESS 地址书写方式
* LC_TELEPHONE 电话号码书写方式
* LC_MEASUREMENT 度量衡表达方式
* LC_PAPER 默认纸张尺寸大小
* LC_IDENTIFICATION 对自身包含信息的概述

每一类locale的赋值所使用的文件在`/usr/share/i18n/`目录下（`i18n`是`internationalization`的缩写:smile:）：
* SUPPORTED文件列出了所有支持的赋值
* locales文件夹下存放的是系统安装的所有locale文件
* charmaps文件夹下包含了所有的字符集

根据配置文件生成的locale放在了`/usr/lib/locale/`目录中，并且每个locale都对应一个文件夹，比如说创建了de_DE@euro.UTF-8 locale之后，就生成/usr/lib/locale/de_DE@euro.UTF-8/目录，里面是具体的每个locale的内容。


# LC_*
上面提到locale分为12类，即 12个LC_*。除了这12个变量可以设定以外，为了简便起见，还有两个变量：LC_ALL和LANG
https://blog.csdn.net/mengxiangbaidu/article/details/51463937  
LC_ALL=C  
https://unix.stackexchange.com/questions/87745/what-does-lc-all-c-do

TODO：

`/etc/profile` `/etc/bash.bahsrc` `~/.profile` `~/.bash_profile` `.bashrc`区别  
https://blog.csdn.net/jirryzhang/article/details/70833544
rc run command

apt-get apt-cache
https://www.zhihu.com/question/41639127?from=profile_question_card
https://www.linuxidc.com/Linux/2016-09/135149.htm
https://www.zhihu.com/question/41639127?from=profile_question_card
查找一个软件包
$apt-cache search package_name
查看软件包信息
$apt-cache show package_name

wayland vs mir vs X  
https://www.zhihu.com/question/21844459/answer/150388349
https://blog.csdn.net/iEearth/article/details/72790086?locationNum=4&fps=1

passpoint:concepts
